---
phase: 01-foundation-developer-setup
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - front-end/tailwind.config.ts
  - front-end/postcss.config.mjs
  - front-end/components.json
  - front-end/src/lib/utils.ts
  - front-end/src/app/globals.css
autonomous: true

must_haves:
  truths:
    - "Tailwind utility classes render correctly in development"
    - "shadcn CLI can add components without errors"
    - "CSS variables for theming are defined in globals.css"
  artifacts:
    - path: "front-end/tailwind.config.ts"
      provides: "Tailwind configuration with shadcn color variables"
      contains: "darkMode"
    - path: "front-end/postcss.config.mjs"
      provides: "PostCSS configuration for Tailwind"
      contains: "tailwindcss"
    - path: "front-end/components.json"
      provides: "shadcn/ui configuration"
      contains: "cssVariables"
    - path: "front-end/src/lib/utils.ts"
      provides: "cn() utility for class merging"
      contains: "clsx"
    - path: "front-end/src/app/globals.css"
      provides: "Tailwind directives and CSS variables"
      contains: "@tailwind"
  key_links:
    - from: "front-end/tailwind.config.ts"
      to: "front-end/src/app/globals.css"
      via: "content paths scan globals.css"
      pattern: "content.*app"
    - from: "front-end/components.json"
      to: "front-end/src/lib/utils.ts"
      via: "aliases.utils points to utils.ts"
      pattern: "@/lib/utils"
---

<objective>
Install and configure Tailwind CSS v3 and initialize shadcn/ui with CSS variables for theming support.

Purpose: This establishes the modern UI foundation that replaces Chakra UI. Tailwind CSS provides utility-first styling, while shadcn/ui provides accessible, customizable components built on Radix UI primitives. The CSS variables approach enables seamless dark mode theming.

Output: Working Tailwind + shadcn setup with CSS variables, ready for component installation and dark mode.
</objective>

<execution_context>
@/Users/kenny/.claude/get-shit-done/workflows/execute-plan.md
@/Users/kenny/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-developer-setup/01-RESEARCH.md

# Reference implementation patterns from research
# Pattern 2: shadcn/ui Initialization with Next.js 15
# Pattern 4: Tailwind Configuration for shadcn/ui

@front-end/package.json
@front-end/src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install Tailwind CSS v3 and PostCSS</name>
  <files>
    front-end/package.json (modified)
    front-end/tailwind.config.ts (create)
    front-end/postcss.config.mjs (create)
  </files>
  <action>
    1. Navigate to front-end directory
    2. Install Tailwind CSS v3 and dependencies:
       ```bash
       pnpm add -D tailwindcss@3 postcss autoprefixer
       ```
    3. Initialize Tailwind with TypeScript config:
       ```bash
       npx tailwindcss init -p --ts
       ```
    4. Update tailwind.config.ts with correct content paths:
       - Include "./src/**/*.{js,ts,jsx,tsx,mdx}" for all source files
       - Include "./components/**/*.{js,ts,jsx,tsx,mdx}" for shadcn components (will be created later)
       - Set darkMode: ["class"] for class-based dark mode switching
    5. Verify postcss.config.mjs was created with tailwindcss and autoprefixer plugins

    Content paths are CRITICAL - missing paths cause production builds to purge needed styles.
  </action>
  <verify>
    Run: `cd /Users/kenny/Code/stacks-starter/front-end && cat tailwind.config.ts | grep -E "content|darkMode"`
    Expected: content array with src paths, darkMode: ["class"]

    Run: `cat /Users/kenny/Code/stacks-starter/front-end/postcss.config.mjs`
    Expected: Contains tailwindcss and autoprefixer plugins
  </verify>
  <done>Tailwind CSS v3 installed with proper content paths and class-based dark mode</done>
</task>

<task type="auto">
  <name>Task 2: Initialize shadcn/ui</name>
  <files>
    front-end/components.json (create)
    front-end/src/lib/utils.ts (create)
    front-end/src/app/globals.css (modify)
    front-end/tailwind.config.ts (modify - shadcn extends it)
  </files>
  <action>
    1. Navigate to front-end directory
    2. Install clsx and tailwind-merge (dependencies for cn() utility):
       ```bash
       pnpm add clsx tailwind-merge
       ```
    3. Install lucide-react (icon library used by shadcn components):
       ```bash
       pnpm add lucide-react
       ```
    4. Run shadcn init with specific options (use pnpm dlx to avoid global install):
       ```bash
       pnpm dlx shadcn@latest init
       ```
       When prompted, select:
       - Style: Default
       - Base color: Slate
       - CSS variables: Yes (IMPORTANT - enables theming)
       - TypeScript: Yes (already using TS)
       - React Server Components: Yes (App Router)
       - Tailwind config location: tailwind.config.ts
       - CSS file location: src/app/globals.css
       - Components alias: @/components
       - Utils alias: @/lib/utils

    5. After init completes, verify:
       - components.json created with cssVariables: true
       - src/lib/utils.ts created with cn() function
       - globals.css updated with @tailwind directives and CSS variables
       - tailwind.config.ts extended with shadcn color variables

    IMPORTANT: The shadcn CLI modifies globals.css. Preserve any existing styles that don't conflict (like the font-family settings).

    6. Create lib directory if it doesn't exist: mkdir -p src/lib
  </action>
  <verify>
    Run: `cat /Users/kenny/Code/stacks-starter/front-end/components.json | grep cssVariables`
    Expected: "cssVariables": true

    Run: `cat /Users/kenny/Code/stacks-starter/front-end/src/lib/utils.ts | grep -E "clsx|twMerge|cn"`
    Expected: Shows cn function using clsx and tailwind-merge

    Run: `head -10 /Users/kenny/Code/stacks-starter/front-end/src/app/globals.css`
    Expected: @tailwind base; @tailwind components; @tailwind utilities;
  </verify>
  <done>shadcn/ui initialized with CSS variables, cn() utility available, globals.css has Tailwind directives</done>
</task>

<task type="auto">
  <name>Task 3: Verify Tailwind works in development</name>
  <files>
    front-end/src/app/page.tsx (temporary test)
  </files>
  <action>
    1. Add a temporary Tailwind test to the page to verify styles work:
       - Add a div with Tailwind classes like: className="bg-blue-500 text-white p-4 rounded"
       - This is just for verification - can be removed after confirming Tailwind works

    2. Start dev server and verify Tailwind styles apply:
       ```bash
       cd front-end && pnpm dev
       ```
    3. Check that the blue background renders (confirms Tailwind is processing)

    4. After verification, remove the test div (or leave minimal styling)

    5. Run build to ensure Tailwind works in production:
       ```bash
       pnpm build
       ```

    This task confirms the foundation works before we build on it.
  </action>
  <verify>
    Run: `cd /Users/kenny/Code/stacks-starter/front-end && pnpm build`
    Expected: Build succeeds without errors

    Run: `ls /Users/kenny/Code/stacks-starter/front-end/.next/static/css/*.css | head -1 | xargs wc -c`
    Expected: CSS file exists and has content (not 0 bytes)

    Visual verification (manual step):
    1. Run `pnpm dev` in front-end directory
    2. Open http://localhost:3000 in browser
    3. Confirm blue test div renders with proper styling (blue background, white text, padding, rounded corners)
    4. If styles don't appear, check browser dev tools for CSS loading errors
  </verify>
  <done>Tailwind CSS compiles correctly, build succeeds, CSS output generated, visual rendering confirmed</done>
</task>

</tasks>

<verification>
After all tasks complete:

1. Tailwind config has correct content paths:
   ```bash
   grep -A5 "content:" front-end/tailwind.config.ts
   # Expected: includes src/**/*.{...}
   ```

2. shadcn configuration valid:
   ```bash
   cat front-end/components.json | grep -E "cssVariables|rsc"
   # Expected: cssVariables: true, rsc: true
   ```

3. CSS variables defined:
   ```bash
   grep -c "hsl(var(--" front-end/src/app/globals.css
   # Expected: Multiple CSS variable definitions (>10)
   ```

4. cn() utility works:
   ```bash
   grep "export function cn" front-end/src/lib/utils.ts
   # Expected: Function exported
   ```

5. Build succeeds:
   ```bash
   cd front-end && pnpm build
   # Expected: No errors
   ```
</verification>

<success_criteria>
- Tailwind CSS v3 installed with PostCSS
- tailwind.config.ts has correct content paths and darkMode: ["class"]
- shadcn/ui initialized with CSS variables enabled
- components.json created with proper aliases
- cn() utility available at @/lib/utils
- globals.css has @tailwind directives and CSS variable definitions
- Production build succeeds
- FOUN-01 (Tailwind configured) complete
- FOUN-02 (shadcn initialized) complete
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-developer-setup/01-02-SUMMARY.md`
</output>
